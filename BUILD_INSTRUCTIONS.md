# PomodoroScreen æ„å»ºè¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ„å»ºé€šç”¨äºŒè¿›åˆ¶åŒ…ï¼ˆæ¨èï¼‰

æ„å»ºåŒæ—¶æ”¯æŒ ARM64 (Apple Silicon) å’Œ Intel (x86_64) æ¶æ„çš„é€šç”¨åº”ç”¨ï¼š

```bash
# ä½¿ç”¨ Makefileï¼ˆæ¨èï¼‰
make universal

# æˆ–ç›´æ¥ä½¿ç”¨è„šæœ¬
./build-universal.sh
```

### å…¶ä»–æ„å»ºé€‰é¡¹

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å¿«é€Ÿæ„å»º DMGï¼ˆå•ä¸€æ¶æ„ï¼‰
make quick

# æ„å»º Release ç‰ˆæœ¬
make release

# æ„å»º Debug ç‰ˆæœ¬
make debug

# æ¸…ç†æ„å»ºç¯å¢ƒ
make clean

# æ˜¾ç¤ºæ„å»ºäº§ç‰©ä¿¡æ¯
make show-build
```

## ğŸ“¦ æ„å»ºäº§ç‰©

### é€šç”¨æ„å»ºåçš„æ–‡ä»¶ç»“æ„ï¼š

```
PomodoroScreen/
â”œâ”€â”€ PomodoroScreen-1.0-Universal.dmg    # é€šç”¨ DMG å®‰è£…åŒ… (~49MB)
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ ARM64_PomodoroScreen.app         # ARM64 ç‰ˆæœ¬
â”‚   â”œâ”€â”€ Intel_PomodoroScreen.app         # Intel ç‰ˆæœ¬
â”‚   â””â”€â”€ Universal/
â”‚       â””â”€â”€ PomodoroScreen.app           # é€šç”¨ç‰ˆæœ¬ (~50MB)
```

### æ¶æ„éªŒè¯

éªŒè¯é€šç”¨äºŒè¿›åˆ¶åŒ…å«çš„æ¶æ„ï¼š

```bash
lipo -info build/Universal/PomodoroScreen.app/Contents/MacOS/PomodoroScreen
# è¾“å‡º: Architectures in the fat file: ... are: x86_64 arm64
```

## ğŸ”§ æ„å»ºè¦æ±‚

- macOS 14.0+
- Xcode 15.0+
- Xcode Command Line Tools

## ğŸ“‹ æ„å»ºè„šæœ¬è¯´æ˜

### build-universal.sh
- **åŠŸèƒ½**: æ„å»ºé€šç”¨äºŒè¿›åˆ¶åŒ…
- **è¾“å‡º**: ARM64ã€Intel å’Œé€šç”¨ç‰ˆæœ¬ + DMG
- **æ—¶é—´**: ~45ç§’
- **æ¨è**: ç”¨äºå‘å¸ƒç‰ˆæœ¬

### build.sh
- **åŠŸèƒ½**: æ ‡å‡†æ„å»ºæµç¨‹
- **è¾“å‡º**: å•ä¸€æ¶æ„ç‰ˆæœ¬
- **æ—¶é—´**: ~20ç§’
- **æ¨è**: ç”¨äºå¼€å‘è°ƒè¯•

### quick-build.sh
- **åŠŸèƒ½**: å¿«é€Ÿæ„å»º DMG
- **è¾“å‡º**: å½“å‰æ¶æ„çš„ DMG
- **æ—¶é—´**: ~15ç§’
- **æ¨è**: ç”¨äºå¿«é€Ÿæµ‹è¯•

## ğŸ¯ ä½¿ç”¨å»ºè®®

1. **å¼€å‘é˜¶æ®µ**: ä½¿ç”¨ `make debug` æˆ– `make quick`
2. **æµ‹è¯•é˜¶æ®µ**: ä½¿ç”¨ `make release`
3. **å‘å¸ƒé˜¶æ®µ**: ä½¿ç”¨ `make universal`

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ„å»ºç±»å‹ | æ—¶é—´ | å¤§å° | å…¼å®¹æ€§ |
|---------|------|------|--------|
| Debug | ~15s | ~45MB | å½“å‰æ¶æ„ |
| Release | ~20s | ~25MB | å½“å‰æ¶æ„ |
| Universal | ~45s | ~50MB | ARM64 + Intel |

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥**: è¿è¡Œ `make clean` æ¸…ç†ç¯å¢ƒ
2. **æƒé™é”™è¯¯**: ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™ `chmod +x *.sh`
3. **Xcode é”™è¯¯**: ç¡®ä¿å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„ Xcode

### è°ƒè¯•å‘½ä»¤

```bash
# æ£€æŸ¥é¡¹ç›®çŠ¶æ€
make stats

# éªŒè¯æ„å»ºç¯å¢ƒ
xcodebuild -version

# æ¸…ç†æ‰€æœ‰æ„å»ºäº§ç‰©
make clean-all
```

---

**æ³¨æ„**: é€šç”¨æ„å»ºä¼šç”Ÿæˆè¾ƒå¤§çš„åº”ç”¨åŒ…ï¼Œä½†ç¡®ä¿åœ¨æ‰€æœ‰ Mac è®¾å¤‡ä¸Šçš„å…¼å®¹æ€§ã€‚æ ¹æ®å‘å¸ƒéœ€æ±‚é€‰æ‹©åˆé€‚çš„æ„å»ºæ–¹å¼ã€‚
